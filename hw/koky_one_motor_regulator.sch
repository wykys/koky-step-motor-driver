EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:prog-con
LIBS:stepstick
LIBS:koky_one_motor_regulator-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "Řízení motoru NEMA17 pro Kokyho"
Date "2017-07-09"
Rev "1.0"
Comp "wykys"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Rotary_Encoder_Switch SW1
U 1 1 59629547
P 5950 5150
F 0 "SW1" H 5950 5410 50  0000 C CNN
F 1 "Rotary_Encoder_Switch" H 5950 4890 50  0000 C CNN
F 2 "" H 5850 5310 50  0001 C CNN
F 3 "" H 5950 5410 50  0001 C CNN
	1    5950 5150
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR2
U 1 1 5962976B
P 2150 5800
F 0 "#PWR2" H 2150 5550 50  0001 C CNN
F 1 "GND" H 2150 5650 50  0000 C CNN
F 2 "" H 2150 5800 50  0001 C CNN
F 3 "" H 2150 5800 50  0001 C CNN
	1    2150 5800
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR8
U 1 1 5962981A
P 5450 5800
F 0 "#PWR8" H 5450 5550 50  0001 C CNN
F 1 "GND" H 5450 5650 50  0000 C CNN
F 2 "" H 5450 5800 50  0001 C CNN
F 3 "" H 5450 5800 50  0001 C CNN
	1    5450 5800
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR11
U 1 1 59629829
P 6450 5800
F 0 "#PWR11" H 6450 5550 50  0001 C CNN
F 1 "GND" H 6450 5650 50  0000 C CNN
F 2 "" H 6450 5800 50  0001 C CNN
F 3 "" H 6450 5800 50  0001 C CNN
	1    6450 5800
	1    0    0    -1  
$EndComp
$Comp
L C C2
U 1 1 596298F3
P 4400 5500
F 0 "C2" H 4425 5600 50  0000 L CNN
F 1 "10n" H 4425 5400 50  0000 L CNN
F 2 "" H 4438 5350 50  0001 C CNN
F 3 "" H 4400 5500 50  0001 C CNN
	1    4400 5500
	1    0    0    -1  
$EndComp
$Comp
L ATMEGA328P-PU U1
U 1 1 59629AEA
P 3150 4250
F 0 "U1" H 2400 5500 50  0000 L BNN
F 1 "ATMEGA328P-PU" H 3550 2850 50  0000 L BNN
F 2 "DIL28" H 3150 4250 50  0001 C CIN
F 3 "" H 3150 4250 50  0001 C CNN
	1    3150 4250
	1    0    0    -1  
$EndComp
NoConn ~ 4150 5250
NoConn ~ 4150 5350
NoConn ~ 4150 5450
$Comp
L GND #PWR3
U 1 1 5962A1D8
P 4400 5800
F 0 "#PWR3" H 4400 5550 50  0001 C CNN
F 1 "GND" H 4400 5650 50  0000 C CNN
F 2 "" H 4400 5800 50  0001 C CNN
F 3 "" H 4400 5800 50  0001 C CNN
	1    4400 5800
	1    0    0    -1  
$EndComp
$Comp
L C C3
U 1 1 5962A201
P 4750 5500
F 0 "C3" H 4775 5600 50  0000 L CNN
F 1 "10n" H 4775 5400 50  0000 L CNN
F 2 "" H 4788 5350 50  0001 C CNN
F 3 "" H 4750 5500 50  0001 C CNN
	1    4750 5500
	1    0    0    -1  
$EndComp
$Comp
L C C5
U 1 1 5962A221
P 5100 5500
F 0 "C5" H 5125 5600 50  0000 L CNN
F 1 "10n" H 5125 5400 50  0000 L CNN
F 2 "" H 5138 5350 50  0001 C CNN
F 3 "" H 5100 5500 50  0001 C CNN
	1    5100 5500
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR4
U 1 1 5962A2F5
P 4750 5800
F 0 "#PWR4" H 4750 5550 50  0001 C CNN
F 1 "GND" H 4750 5650 50  0000 C CNN
F 2 "" H 4750 5800 50  0001 C CNN
F 3 "" H 4750 5800 50  0001 C CNN
	1    4750 5800
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR6
U 1 1 5962A30A
P 5100 5800
F 0 "#PWR6" H 5100 5550 50  0001 C CNN
F 1 "GND" H 5100 5650 50  0000 C CNN
F 2 "" H 5100 5800 50  0001 C CNN
F 3 "" H 5100 5800 50  0001 C CNN
	1    5100 5800
	1    0    0    -1  
$EndComp
$Comp
L ISP-MLW-6 CON1
U 1 1 5962A8E9
P 5150 2050
F 0 "CON1" H 4900 2300 40  0000 L CNN
F 1 "ISP-MLW-6" H 5150 1800 40  0000 C CNN
F 2 "" H 5800 1600 60  0000 C CNN
F 3 "" H 5800 1600 60  0000 C CNN
	1    5150 2050
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR1
U 1 1 5962AEE7
P 2150 3100
F 0 "#PWR1" H 2150 2950 50  0001 C CNN
F 1 "+5V" H 2150 3240 50  0000 C CNN
F 2 "" H 2150 3100 50  0001 C CNN
F 3 "" H 2150 3100 50  0001 C CNN
	1    2150 3100
	1    0    0    -1  
$EndComp
$Comp
L C C1
U 1 1 5962B131
P 2150 4350
F 0 "C1" H 2175 4450 50  0000 L CNN
F 1 "100n" H 2175 4250 50  0000 L CNN
F 2 "" H 2188 4200 50  0001 C CNN
F 3 "" H 2150 4350 50  0001 C CNN
	1    2150 4350
	1    0    0    -1  
$EndComp
$Comp
L StepStick U2
U 1 1 5962CD9F
P 7750 3750
F 0 "U2" H 7150 4575 60  0000 L CNN
F 1 "StepStick" H 7750 3800 60  0000 C CNN
F 2 "" H 6800 3750 60  0001 C CNN
F 3 "" H 6800 3750 60  0001 C CNN
	1    7750 3750
	1    0    0    -1  
$EndComp
$Comp
L R R1
U 1 1 5962DBBB
P 5150 1650
F 0 "R1" V 5230 1650 50  0000 C CNN
F 1 "10k" V 5150 1650 50  0000 C CNN
F 2 "" V 5080 1650 50  0001 C CNN
F 3 "" H 5150 1650 50  0001 C CNN
	1    5150 1650
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR10
U 1 1 5962DEC7
P 5550 2200
F 0 "#PWR10" H 5550 1950 50  0001 C CNN
F 1 "GND" H 5550 2050 50  0000 C CNN
F 2 "" H 5550 2200 50  0001 C CNN
F 3 "" H 5550 2200 50  0001 C CNN
	1    5550 2200
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR9
U 1 1 5962DFA6
P 5550 1600
F 0 "#PWR9" H 5550 1450 50  0001 C CNN
F 1 "+5V" H 5550 1740 50  0000 C CNN
F 2 "" H 5550 1600 50  0001 C CNN
F 3 "" H 5550 1600 50  0001 C CNN
	1    5550 1600
	1    0    0    -1  
$EndComp
Text Label 4500 4500 2    60   ~ 0
LCD_RS
Text Label 4500 4400 2    60   ~ 0
LCD_EN
Text Label 4500 4300 2    60   ~ 0
LCD_D4
Text Label 4500 4200 2    60   ~ 0
LCD_D5
Text Label 4500 4100 2    60   ~ 0
LCD_D6
Text Label 4500 4000 2    60   ~ 0
LCD_D7
$Comp
L C C4
U 1 1 596300F4
P 4950 4100
F 0 "C4" H 4975 4200 50  0000 L CNN
F 1 "22p" H 4975 4000 50  0000 L CNN
F 2 "" H 4988 3950 50  0001 C CNN
F 3 "" H 4950 4100 50  0001 C CNN
	1    4950 4100
	1    0    0    -1  
$EndComp
Wire Wire Line
	4150 5050 5650 5050
Wire Wire Line
	4150 5150 5650 5150
Wire Wire Line
	6250 5050 6450 5050
Wire Wire Line
	6450 5050 6450 4800
Wire Wire Line
	6450 4800 5450 4800
Wire Wire Line
	5450 4800 5450 4950
Wire Wire Line
	5450 4950 4150 4950
Wire Wire Line
	6450 5800 6450 5250
Wire Wire Line
	6450 5250 6250 5250
Wire Wire Line
	5650 5250 5450 5250
Wire Wire Line
	5450 5250 5450 5800
Wire Wire Line
	2150 4500 2150 5800
Wire Wire Line
	2150 5350 2250 5350
Wire Wire Line
	2250 5450 2150 5450
Connection ~ 2150 5450
Wire Wire Line
	5100 5800 5100 5650
Wire Wire Line
	4750 5800 4750 5650
Wire Wire Line
	4400 5800 4400 5650
Wire Wire Line
	4400 5350 4400 5150
Connection ~ 4400 5150
Wire Wire Line
	4750 5350 4750 5050
Connection ~ 4750 5050
Wire Wire Line
	5100 5350 5100 4950
Connection ~ 5100 4950
Connection ~ 2150 5350
Wire Wire Line
	2150 3100 2150 4200
Wire Wire Line
	2250 3150 2150 3150
Connection ~ 2150 3150
Wire Wire Line
	2250 3450 2150 3450
Connection ~ 2150 3450
Wire Wire Line
	2250 3750 2150 3750
Connection ~ 2150 3750
Wire Wire Line
	4700 4600 4150 4600
Wire Wire Line
	4150 3550 4500 3550
Wire Wire Line
	4150 3650 4600 3650
Wire Wire Line
	4500 3550 4500 1950
Wire Wire Line
	4500 1950 4750 1950
Wire Wire Line
	4600 3650 4600 2050
Wire Wire Line
	4600 2050 4750 2050
Wire Wire Line
	4700 1650 4700 4600
Wire Wire Line
	4700 2150 4750 2150
Wire Wire Line
	5700 2050 5550 2050
Connection ~ 4700 2150
Wire Wire Line
	5550 2200 5550 2150
Wire Wire Line
	5000 1650 4700 1650
Wire Wire Line
	5550 1600 5550 1950
Wire Wire Line
	5300 1650 5550 1650
Connection ~ 5550 1650
Wire Wire Line
	4150 3450 4400 3450
Wire Wire Line
	4400 3450 4400 2450
Wire Wire Line
	4400 2450 5700 2450
Wire Wire Line
	5700 2450 5700 2050
Wire Wire Line
	4150 4000 4500 4000
Wire Wire Line
	4150 4100 4500 4100
Wire Wire Line
	4150 4200 4500 4200
Wire Wire Line
	4150 4300 4500 4300
Wire Wire Line
	4150 4400 4500 4400
Wire Wire Line
	4150 4500 4500 4500
Wire Wire Line
	4150 3250 7000 3250
Wire Wire Line
	7000 3350 4150 3350
Wire Wire Line
	4150 3750 5150 3750
$Comp
L Crystal Y1
U 1 1 5962A942
P 5250 3850
F 0 "Y1" H 5250 4000 50  0000 C CNN
F 1 "16MHz" H 5250 3700 50  0000 C CNN
F 2 "" H 5250 3850 50  0001 C CNN
F 3 "" H 5250 3850 50  0001 C CNN
	1    5250 3850
	1    0    0    -1  
$EndComp
Wire Wire Line
	5100 3850 4150 3850
Wire Wire Line
	5150 3750 5150 3650
Wire Wire Line
	5150 3650 5350 3650
Wire Wire Line
	5350 3650 5350 3750
Wire Wire Line
	5350 3750 5450 3750
Wire Wire Line
	5450 3750 5450 3950
Wire Wire Line
	5450 3850 5400 3850
$Comp
L C C6
U 1 1 59630A07
P 5450 4100
F 0 "C6" H 5475 4200 50  0000 L CNN
F 1 "22p" H 5475 4000 50  0000 L CNN
F 2 "" H 5488 3950 50  0001 C CNN
F 3 "" H 5450 4100 50  0001 C CNN
	1    5450 4100
	1    0    0    -1  
$EndComp
Connection ~ 5450 3850
Wire Wire Line
	4950 3950 4950 3750
Connection ~ 4950 3750
$Comp
L GND #PWR7
U 1 1 59630C28
P 5450 4250
F 0 "#PWR7" H 5450 4000 50  0001 C CNN
F 1 "GND" H 5450 4100 50  0000 C CNN
F 2 "" H 5450 4250 50  0001 C CNN
F 3 "" H 5450 4250 50  0001 C CNN
	1    5450 4250
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR5
U 1 1 59630CB2
P 4950 4250
F 0 "#PWR5" H 4950 4000 50  0001 C CNN
F 1 "GND" H 4950 4100 50  0000 C CNN
F 2 "" H 4950 4250 50  0001 C CNN
F 3 "" H 4950 4250 50  0001 C CNN
	1    4950 4250
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR14
U 1 1 5963155C
P 7600 2750
F 0 "#PWR14" H 7600 2600 50  0001 C CNN
F 1 "+5V" H 7600 2890 50  0000 C CNN
F 2 "" H 7600 2750 50  0001 C CNN
F 3 "" H 7600 2750 50  0001 C CNN
	1    7600 2750
	1    0    0    -1  
$EndComp
Wire Wire Line
	7600 2750 7600 2850
$Comp
L +12V #PWR16
U 1 1 5963175D
P 7900 2750
F 0 "#PWR16" H 7900 2600 50  0001 C CNN
F 1 "+12V" H 7900 2890 50  0000 C CNN
F 2 "" H 7900 2750 50  0001 C CNN
F 3 "" H 7900 2750 50  0001 C CNN
	1    7900 2750
	1    0    0    -1  
$EndComp
Wire Wire Line
	7900 2750 7900 2850
$Comp
L CP C7
U 1 1 59631B27
P 8150 2800
F 0 "C7" V 8200 2900 50  0000 L CNN
F 1 "100u/100V" V 8300 2400 50  0000 L CNN
F 2 "" H 8188 2650 50  0001 C CNN
F 3 "" H 8150 2800 50  0001 C CNN
	1    8150 2800
	0    -1   -1   0   
$EndComp
Wire Wire Line
	8000 2800 7900 2800
Connection ~ 7900 2800
$Comp
L GND #PWR18
U 1 1 59631CA3
P 8350 2800
F 0 "#PWR18" H 8350 2550 50  0001 C CNN
F 1 "GND" H 8350 2650 50  0000 C CNN
F 2 "" H 8350 2800 50  0001 C CNN
F 3 "" H 8350 2800 50  0001 C CNN
	1    8350 2800
	0    -1   -1   0   
$EndComp
Wire Wire Line
	8350 2800 8300 2800
$Comp
L GND #PWR17
U 1 1 596320C6
P 7900 4600
F 0 "#PWR17" H 7900 4350 50  0001 C CNN
F 1 "GND" H 7900 4450 50  0000 C CNN
F 2 "" H 7900 4600 50  0001 C CNN
F 3 "" H 7900 4600 50  0001 C CNN
	1    7900 4600
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR15
U 1 1 59632181
P 7600 4600
F 0 "#PWR15" H 7600 4350 50  0001 C CNN
F 1 "GND" H 7600 4450 50  0000 C CNN
F 2 "" H 7600 4600 50  0001 C CNN
F 3 "" H 7600 4600 50  0001 C CNN
	1    7600 4600
	1    0    0    -1  
$EndComp
Wire Wire Line
	7600 4600 7600 4550
Wire Wire Line
	7900 4600 7900 4550
$Comp
L +5V #PWR12
U 1 1 59632543
P 6900 3200
F 0 "#PWR12" H 6900 3050 50  0001 C CNN
F 1 "+5V" H 6900 3340 50  0000 C CNN
F 2 "" H 6900 3200 50  0001 C CNN
F 3 "" H 6900 3200 50  0001 C CNN
	1    6900 3200
	1    0    0    -1  
$EndComp
Wire Wire Line
	6900 3200 6900 4050
Wire Wire Line
	6900 4050 7000 4050
Wire Wire Line
	7000 3950 6900 3950
Connection ~ 6900 3950
Wire Wire Line
	7000 3750 6900 3750
Connection ~ 6900 3750
Wire Wire Line
	7000 3650 6900 3650
Connection ~ 6900 3650
Wire Wire Line
	7000 3550 6900 3550
Connection ~ 6900 3550
Wire Wire Line
	6600 4150 7000 4150
$Comp
L L_Small L1
U 1 1 59632927
P 8550 3300
F 0 "L1" H 8580 3340 50  0000 L CNN
F 1 "MOTOR_L1" H 8580 3260 50  0000 L CNN
F 2 "" H 8550 3300 50  0001 C CNN
F 3 "" H 8550 3300 50  0001 C CNN
	1    8550 3300
	1    0    0    -1  
$EndComp
$Comp
L L_Small L2
U 1 1 59632A20
P 8600 4100
F 0 "L2" H 8630 4140 50  0000 L CNN
F 1 "MOTOR_L2" H 8630 4060 50  0000 L CNN
F 2 "" H 8600 4100 50  0001 C CNN
F 3 "" H 8600 4100 50  0001 C CNN
	1    8600 4100
	1    0    0    -1  
$EndComp
Wire Wire Line
	8600 4000 8350 4000
Wire Wire Line
	8350 4000 8350 4050
Wire Wire Line
	8600 4200 8350 4200
Wire Wire Line
	8350 4200 8350 4150
Wire Wire Line
	8550 3200 8350 3200
Wire Wire Line
	8350 3200 8350 3250
Wire Wire Line
	8550 3400 8350 3400
Wire Wire Line
	8350 3400 8350 3350
Wire Wire Line
	4150 3150 6600 3150
Wire Wire Line
	6600 3150 6600 4150
$EndSCHEMATC
