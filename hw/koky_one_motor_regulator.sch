EESchema Schematic File Version 2
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:prog-con
LIBS:stepstick
LIBS:koky_one_motor_regulator-cache
EELAYER 25 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "Řízení motoru NEMA17 pro Kokyho"
Date "2017-07-09"
Rev "1.0"
Comp "wykys"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Rotary_Encoder_Switch SW1
U 1 1 59629547
P 8500 5150
F 0 "SW1" H 8500 5410 50  0000 C CNN
F 1 "Rotary_Encoder_Switch" H 8500 4890 50  0000 C CNN
F 2 "" H 8400 5310 50  0001 C CNN
F 3 "" H 8500 5410 50  0001 C CNN
	1    8500 5150
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR2
U 1 1 5962976B
P 2500 5800
F 0 "#PWR2" H 2500 5550 50  0001 C CNN
F 1 "GND" H 2500 5650 50  0000 C CNN
F 2 "" H 2500 5800 50  0001 C CNN
F 3 "" H 2500 5800 50  0001 C CNN
	1    2500 5800
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR12
U 1 1 5962981A
P 8000 5800
F 0 "#PWR12" H 8000 5550 50  0001 C CNN
F 1 "GND" H 8000 5650 50  0000 C CNN
F 2 "" H 8000 5800 50  0001 C CNN
F 3 "" H 8000 5800 50  0001 C CNN
	1    8000 5800
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR17
U 1 1 59629829
P 9000 5800
F 0 "#PWR17" H 9000 5550 50  0001 C CNN
F 1 "GND" H 9000 5650 50  0000 C CNN
F 2 "" H 9000 5800 50  0001 C CNN
F 3 "" H 9000 5800 50  0001 C CNN
	1    9000 5800
	1    0    0    -1  
$EndComp
$Comp
L C C2
U 1 1 596298F3
P 6950 5500
F 0 "C2" H 6975 5600 50  0000 L CNN
F 1 "10n" H 6975 5400 50  0000 L CNN
F 2 "" H 6988 5350 50  0001 C CNN
F 3 "" H 6950 5500 50  0001 C CNN
	1    6950 5500
	1    0    0    -1  
$EndComp
$Comp
L ATMEGA328P-PU U1
U 1 1 59629AEA
P 3500 4250
F 0 "U1" H 2750 5500 50  0000 L BNN
F 1 "ATMEGA328P-PU" H 3900 2850 50  0000 L BNN
F 2 "DIL28" H 3500 4250 50  0001 C CIN
F 3 "" H 3500 4250 50  0001 C CNN
	1    3500 4250
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR9
U 1 1 5962A1D8
P 6950 5800
F 0 "#PWR9" H 6950 5550 50  0001 C CNN
F 1 "GND" H 6950 5650 50  0000 C CNN
F 2 "" H 6950 5800 50  0001 C CNN
F 3 "" H 6950 5800 50  0001 C CNN
	1    6950 5800
	1    0    0    -1  
$EndComp
$Comp
L C C3
U 1 1 5962A201
P 7300 5500
F 0 "C3" H 7325 5600 50  0000 L CNN
F 1 "10n" H 7325 5400 50  0000 L CNN
F 2 "" H 7338 5350 50  0001 C CNN
F 3 "" H 7300 5500 50  0001 C CNN
	1    7300 5500
	1    0    0    -1  
$EndComp
$Comp
L C C5
U 1 1 5962A221
P 7650 5500
F 0 "C5" H 7675 5600 50  0000 L CNN
F 1 "10n" H 7675 5400 50  0000 L CNN
F 2 "" H 7688 5350 50  0001 C CNN
F 3 "" H 7650 5500 50  0001 C CNN
	1    7650 5500
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR10
U 1 1 5962A2F5
P 7300 5800
F 0 "#PWR10" H 7300 5550 50  0001 C CNN
F 1 "GND" H 7300 5650 50  0000 C CNN
F 2 "" H 7300 5800 50  0001 C CNN
F 3 "" H 7300 5800 50  0001 C CNN
	1    7300 5800
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR11
U 1 1 5962A30A
P 7650 5800
F 0 "#PWR11" H 7650 5550 50  0001 C CNN
F 1 "GND" H 7650 5650 50  0000 C CNN
F 2 "" H 7650 5800 50  0001 C CNN
F 3 "" H 7650 5800 50  0001 C CNN
	1    7650 5800
	1    0    0    -1  
$EndComp
$Comp
L ISP-MLW-6 CON1
U 1 1 5962A8E9
P 5500 2050
F 0 "CON1" H 5250 2300 40  0000 L CNN
F 1 "ISP-MLW-6" H 5500 1800 40  0000 C CNN
F 2 "" H 6150 1600 60  0000 C CNN
F 3 "" H 6150 1600 60  0000 C CNN
	1    5500 2050
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR1
U 1 1 5962AEE7
P 2500 3100
F 0 "#PWR1" H 2500 2950 50  0001 C CNN
F 1 "+5V" H 2500 3240 50  0000 C CNN
F 2 "" H 2500 3100 50  0001 C CNN
F 3 "" H 2500 3100 50  0001 C CNN
	1    2500 3100
	1    0    0    -1  
$EndComp
$Comp
L C C1
U 1 1 5962B131
P 2500 4350
F 0 "C1" H 2525 4450 50  0000 L CNN
F 1 "100n" H 2525 4250 50  0000 L CNN
F 2 "" H 2538 4200 50  0001 C CNN
F 3 "" H 2500 4350 50  0001 C CNN
	1    2500 4350
	1    0    0    -1  
$EndComp
$Comp
L StepStick U2
U 1 1 5962CD9F
P 8550 3350
F 0 "U2" H 7950 4175 60  0000 L CNN
F 1 "StepStick" H 8550 3400 60  0000 C CNN
F 2 "" H 7600 3350 60  0001 C CNN
F 3 "" H 7600 3350 60  0001 C CNN
	1    8550 3350
	1    0    0    -1  
$EndComp
$Comp
L R R1
U 1 1 5962DBBB
P 5500 1650
F 0 "R1" V 5580 1650 50  0000 C CNN
F 1 "10k" V 5500 1650 50  0000 C CNN
F 2 "" V 5430 1650 50  0001 C CNN
F 3 "" H 5500 1650 50  0001 C CNN
	1    5500 1650
	0    -1   -1   0   
$EndComp
$Comp
L GND #PWR5
U 1 1 5962DEC7
P 5900 2200
F 0 "#PWR5" H 5900 1950 50  0001 C CNN
F 1 "GND" H 5900 2050 50  0000 C CNN
F 2 "" H 5900 2200 50  0001 C CNN
F 3 "" H 5900 2200 50  0001 C CNN
	1    5900 2200
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR4
U 1 1 5962DFA6
P 5900 1600
F 0 "#PWR4" H 5900 1450 50  0001 C CNN
F 1 "+5V" H 5900 1740 50  0000 C CNN
F 2 "" H 5900 1600 50  0001 C CNN
F 3 "" H 5900 1600 50  0001 C CNN
	1    5900 1600
	1    0    0    -1  
$EndComp
Text Label 4850 4750 2    60   ~ 0
LCD_RS
Text Label 4850 4400 2    60   ~ 0
LCD_EN
Text Label 4850 4300 2    60   ~ 0
LCD_D4
Text Label 4850 4200 2    60   ~ 0
LCD_D5
Text Label 4850 4100 2    60   ~ 0
LCD_D6
Text Label 4850 4000 2    60   ~ 0
LCD_D7
$Comp
L C C4
U 1 1 596300F4
P 5300 4100
F 0 "C4" H 5325 4200 50  0000 L CNN
F 1 "22p" H 5325 4000 50  0000 L CNN
F 2 "" H 5338 3950 50  0001 C CNN
F 3 "" H 5300 4100 50  0001 C CNN
	1    5300 4100
	1    0    0    -1  
$EndComp
Wire Wire Line
	4500 5050 8200 5050
Wire Wire Line
	4500 5150 8200 5150
Wire Wire Line
	8800 5050 9000 5050
Wire Wire Line
	9000 5050 9000 4800
Wire Wire Line
	9000 4800 8000 4800
Wire Wire Line
	8000 4800 8000 4950
Wire Wire Line
	8000 4950 4500 4950
Wire Wire Line
	9000 5800 9000 5250
Wire Wire Line
	9000 5250 8800 5250
Wire Wire Line
	8200 5250 8000 5250
Wire Wire Line
	8000 5250 8000 5800
Wire Wire Line
	2500 4500 2500 5800
Wire Wire Line
	2500 5350 2600 5350
Wire Wire Line
	2600 5450 2500 5450
Connection ~ 2500 5450
Wire Wire Line
	7650 5800 7650 5650
Wire Wire Line
	7300 5800 7300 5650
Wire Wire Line
	6950 5800 6950 5650
Wire Wire Line
	6950 5350 6950 5150
Connection ~ 6950 5150
Wire Wire Line
	7300 5350 7300 5050
Connection ~ 7300 5050
Wire Wire Line
	7650 5350 7650 4950
Connection ~ 7650 4950
Connection ~ 2500 5350
Wire Wire Line
	2500 3100 2500 4200
Wire Wire Line
	2600 3150 2500 3150
Connection ~ 2500 3150
Wire Wire Line
	2600 3450 2500 3450
Connection ~ 2500 3450
Wire Wire Line
	2600 3750 2500 3750
Connection ~ 2500 3750
Wire Wire Line
	5050 4600 4500 4600
Wire Wire Line
	4500 3550 4850 3550
Wire Wire Line
	4500 3650 4950 3650
Wire Wire Line
	4850 3550 4850 1950
Wire Wire Line
	4850 1950 5100 1950
Wire Wire Line
	4950 3650 4950 2050
Wire Wire Line
	4950 2050 5100 2050
Wire Wire Line
	5050 1650 5050 4600
Wire Wire Line
	5050 2150 5100 2150
Wire Wire Line
	5900 2050 6250 2050
Connection ~ 5050 2150
Wire Wire Line
	5900 2200 5900 2150
Wire Wire Line
	5350 1650 5050 1650
Wire Wire Line
	5900 1600 5900 1950
Wire Wire Line
	5650 1650 5900 1650
Connection ~ 5900 1650
Wire Wire Line
	4500 4000 4850 4000
Wire Wire Line
	4500 4100 4850 4100
Wire Wire Line
	4500 4200 4850 4200
Wire Wire Line
	4500 4300 4850 4300
Wire Wire Line
	4500 4400 4850 4400
Wire Wire Line
	4500 4750 4850 4750
$Comp
L Crystal Y1
U 1 1 5962A942
P 5600 3850
F 0 "Y1" H 5600 4000 50  0000 C CNN
F 1 "16MHz" H 5600 3700 50  0000 C CNN
F 2 "" H 5600 3850 50  0001 C CNN
F 3 "" H 5600 3850 50  0001 C CNN
	1    5600 3850
	1    0    0    -1  
$EndComp
Wire Wire Line
	5450 3850 4500 3850
Wire Wire Line
	5300 3650 5900 3650
Wire Wire Line
	5900 3650 5900 3950
Wire Wire Line
	5900 3850 5750 3850
$Comp
L C C6
U 1 1 59630A07
P 5900 4100
F 0 "C6" H 5925 4200 50  0000 L CNN
F 1 "22p" H 5925 4000 50  0000 L CNN
F 2 "" H 5938 3950 50  0001 C CNN
F 3 "" H 5900 4100 50  0001 C CNN
	1    5900 4100
	1    0    0    -1  
$EndComp
Connection ~ 5900 3850
Wire Wire Line
	5300 3650 5300 3950
Connection ~ 5300 3750
$Comp
L GND #PWR6
U 1 1 59630C28
P 5900 4250
F 0 "#PWR6" H 5900 4000 50  0001 C CNN
F 1 "GND" H 5900 4100 50  0000 C CNN
F 2 "" H 5900 4250 50  0001 C CNN
F 3 "" H 5900 4250 50  0001 C CNN
	1    5900 4250
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR3
U 1 1 59630CB2
P 5300 4250
F 0 "#PWR3" H 5300 4000 50  0001 C CNN
F 1 "GND" H 5300 4100 50  0000 C CNN
F 2 "" H 5300 4250 50  0001 C CNN
F 3 "" H 5300 4250 50  0001 C CNN
	1    5300 4250
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR13
U 1 1 5963155C
P 8400 2350
F 0 "#PWR13" H 8400 2200 50  0001 C CNN
F 1 "+5V" H 8400 2490 50  0000 C CNN
F 2 "" H 8400 2350 50  0001 C CNN
F 3 "" H 8400 2350 50  0001 C CNN
	1    8400 2350
	1    0    0    -1  
$EndComp
Wire Wire Line
	8400 2350 8400 2450
$Comp
L +12V #PWR15
U 1 1 5963175D
P 8700 2350
F 0 "#PWR15" H 8700 2200 50  0001 C CNN
F 1 "+12V" H 8700 2490 50  0000 C CNN
F 2 "" H 8700 2350 50  0001 C CNN
F 3 "" H 8700 2350 50  0001 C CNN
	1    8700 2350
	1    0    0    -1  
$EndComp
Wire Wire Line
	8700 2350 8700 2450
$Comp
L CP C7
U 1 1 59631B27
P 8950 2400
F 0 "C7" V 9000 2500 50  0000 L CNN
F 1 "100u/100V" V 9100 2000 50  0000 L CNN
F 2 "" H 8988 2250 50  0001 C CNN
F 3 "" H 8950 2400 50  0001 C CNN
	1    8950 2400
	0    -1   -1   0   
$EndComp
Wire Wire Line
	8800 2400 8700 2400
Connection ~ 8700 2400
$Comp
L GND #PWR18
U 1 1 59631CA3
P 9150 2400
F 0 "#PWR18" H 9150 2150 50  0001 C CNN
F 1 "GND" H 9150 2250 50  0000 C CNN
F 2 "" H 9150 2400 50  0001 C CNN
F 3 "" H 9150 2400 50  0001 C CNN
	1    9150 2400
	0    -1   -1   0   
$EndComp
Wire Wire Line
	9150 2400 9100 2400
$Comp
L GND #PWR16
U 1 1 596320C6
P 8700 4200
F 0 "#PWR16" H 8700 3950 50  0001 C CNN
F 1 "GND" H 8700 4050 50  0000 C CNN
F 2 "" H 8700 4200 50  0001 C CNN
F 3 "" H 8700 4200 50  0001 C CNN
	1    8700 4200
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR14
U 1 1 59632181
P 8400 4200
F 0 "#PWR14" H 8400 3950 50  0001 C CNN
F 1 "GND" H 8400 4050 50  0000 C CNN
F 2 "" H 8400 4200 50  0001 C CNN
F 3 "" H 8400 4200 50  0001 C CNN
	1    8400 4200
	1    0    0    -1  
$EndComp
Wire Wire Line
	8400 4200 8400 4150
Wire Wire Line
	8700 4200 8700 4150
$Comp
L L_Small L1
U 1 1 59632927
P 9350 2900
F 0 "L1" H 9380 2940 50  0000 L CNN
F 1 "MOTOR_L1" H 9380 2860 50  0000 L CNN
F 2 "" H 9350 2900 50  0001 C CNN
F 3 "" H 9350 2900 50  0001 C CNN
	1    9350 2900
	1    0    0    -1  
$EndComp
$Comp
L L_Small L2
U 1 1 59632A20
P 9400 3700
F 0 "L2" H 9430 3740 50  0000 L CNN
F 1 "MOTOR_L2" H 9430 3660 50  0000 L CNN
F 2 "" H 9400 3700 50  0001 C CNN
F 3 "" H 9400 3700 50  0001 C CNN
	1    9400 3700
	1    0    0    -1  
$EndComp
Wire Wire Line
	9400 3600 9150 3600
Wire Wire Line
	9150 3600 9150 3650
Wire Wire Line
	9400 3800 9150 3800
Wire Wire Line
	9150 3800 9150 3750
Wire Wire Line
	9350 2800 9150 2800
Wire Wire Line
	9150 2800 9150 2850
Wire Wire Line
	9350 3000 9150 3000
Wire Wire Line
	9150 3000 9150 2950
Wire Wire Line
	4500 3150 7800 3150
Wire Wire Line
	7800 3250 4500 3250
Wire Wire Line
	4500 3350 7800 3350
NoConn ~ 4500 4850
Wire Wire Line
	4500 5450 6650 5450
Wire Wire Line
	6650 5450 6650 3750
Wire Wire Line
	6650 3750 7800 3750
Wire Wire Line
	6250 2850 7800 2850
Wire Wire Line
	4500 5250 6450 5250
Wire Wire Line
	6450 5250 6450 2950
Wire Wire Line
	6450 2950 7800 2950
Wire Wire Line
	7800 3650 7800 3550
Wire Wire Line
	5300 3750 4500 3750
NoConn ~ 4500 5350
Wire Wire Line
	6250 3450 4500 3450
Wire Wire Line
	6250 2050 6250 3450
Connection ~ 6250 2850
$Comp
L R R2
U 1 1 5992E6D2
P 6450 6300
F 0 "R2" V 6530 6300 50  0000 C CNN
F 1 "10k" V 6450 6300 50  0000 C CNN
F 2 "" V 6380 6300 50  0001 C CNN
F 3 "" H 6450 6300 50  0001 C CNN
	1    6450 6300
	1    0    0    -1  
$EndComp
$Comp
L Thermistor_NTC TH1
U 1 1 5992E78F
P 6450 6700
F 0 "TH1" V 6275 6700 50  0000 C CNN
F 1 "TER640" V 6575 6700 50  0000 C CNN
F 2 "" H 6450 6750 50  0001 C CNN
F 3 "" H 6450 6750 50  0001 C CNN
	1    6450 6700
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR8
U 1 1 5992E8B3
P 6450 6850
F 0 "#PWR8" H 6450 6600 50  0001 C CNN
F 1 "GND" H 6450 6700 50  0000 C CNN
F 2 "" H 6450 6850 50  0001 C CNN
F 3 "" H 6450 6850 50  0001 C CNN
	1    6450 6850
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR7
U 1 1 5992E8E9
P 6450 6150
F 0 "#PWR7" H 6450 6000 50  0001 C CNN
F 1 "+5V" H 6450 6290 50  0000 C CNN
F 2 "" H 6450 6150 50  0001 C CNN
F 3 "" H 6450 6150 50  0001 C CNN
	1    6450 6150
	1    0    0    -1  
$EndComp
Wire Wire Line
	6450 6550 6450 6450
Wire Wire Line
	5600 6500 6450 6500
Connection ~ 6450 6500
Wire Wire Line
	4500 4500 5600 4500
Wire Wire Line
	5600 4500 5600 6500
Text Label 5850 6500 0    60   ~ 0
NTC
Text Label 5600 4500 2    60   ~ 0
NTC
$EndSCHEMATC
